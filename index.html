<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Hypha App | Fungi Tree</title>
    <link
        rel="shortcut icon"
        href="./assets/img/logo.png"
        type="image/png"
    />
    <!-- <link
        href="https://fonts.googleapis.com/css?family=Montserrat"
        rel="stylesheet"
    /> -->
    <link rel="stylesheet" href="./tree-libs/treant-js/Treant.css">
    <link rel="stylesheet" href="./tree-libs/style.css">


</head>

<body>
    <!-- Tree -->
    <div class="chart" id="tree"></div>
    
    <!-- Vue App -->
    <div id="app" style="display: none">
        <button @click="addNew">Add new fungus</button>
        <button @click="save">Save & Render</button>
        <local-draggable :tasks="tasks" />
    </div>
    <script type="text/x-template" id="template-dra">
        <draggable :element="'ul'" :list="tasks":options="{group:{ name:'g1'}}" @change="onMove">
            <li v-for="(el, i) in tasks">
                <button @click="remove(tasks, i)">x</button>
                <input 
                    type="checkbox" 
                    :checked="el.hasLink" 
                    v-model="el.hasLink" 
                    @change="setLink($event, el)"
                >
                <input type="text" v-model="el.text.name">
                <a v-if="el.link && el.link.href" :href="el.link.href" target="_blank">
                    Open in new tab
                </a>
                <!-- <input 
                    type="text" 
                    :value="parseName(el.text.name)" 
                    class="link" 
                    disabled 
                    v-if="el.hasLink"
                > -->
                <local-draggable v-if="el.children" :tasks="el.children"></local-draggable>
            </li>
        </draggable>
    </script>
    <!-- Tree libs -->
    <script src="./tree-libs/treant-js/raphael.js"></script>
    <script src="./tree-libs/treant-js/Treant.js"></script>

    <!-- Vue App -->
    <script src="./tree-libs/vue/vue.js"></script>
    <script src="./tree-libs/vue/Sortable.js"></script>
    <script src="./tree-libs/vue/lodash.min.js"></script>
    <script src="./tree-libs/vue/vuedraggable.js"></script>

    <script src="./tree-libs/main.js"></script>
</body>

</html>